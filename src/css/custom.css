/**
 * Any CSS included here will be global. The classic template
 * bundles Infima by default. Infima is a CSS framework designed to
 * work well for content-centric websites.
 */

/* You can override the default Infima variables here. */
:root {
  --ifm-color-primary: #2e8555;
  --ifm-color-primary-dark: #29784c;
  --ifm-color-primary-darker: #277148;
  --ifm-color-primary-darkest: #205d3b;
  --ifm-color-primary-light: #33925d;
  --ifm-color-primary-lighter: #359962;
  --ifm-color-primary-lightest: #3cad6e;
  --ifm-code-font-size: 95%;
  --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.1);
}

/* For readability concerns, you should choose a lighter palette in dark mode. */
[data-theme='dark'] {
  --ifm-color-primary: #8b5cf6;
  --ifm-color-primary-dark: #7c3aed;
  --ifm-color-primary-darker: #6d28d9;
  --ifm-color-primary-darkest: #5b21b6;
  --ifm-color-primary-light: #a78bfa;
  --ifm-color-primary-lighter: #c4b5fd;
  --ifm-color-primary-lightest: #ddd6fe;
  --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.3);
}

/* Фиолетовые акценты для темной темы */
[data-theme='dark'] {
  /* Подсветка активных элементов навигации */
  --ifm-menu-color-active: #8b5cf6;
  --ifm-menu-color-background-active: rgba(139, 92, 246, 0.1);
  
  /* Цвета для кнопок и ссылок */
  --ifm-link-color: #a78bfa;
  --ifm-link-hover-color: #c4b5fd;
  
  /* Подсветка кода */
  --ifm-code-background: rgba(139, 92, 246, 0.1);
  --ifm-code-color: #c4b5fd;
  
  /* Цвета для admonitions */
  --ifm-alert-color: #8b5cf6;
  --ifm-alert-border-color: #7c3aed;
  --ifm-alert-background-color: rgba(139, 92, 246, 0.1);
}

/* Стили для кнопок в темной теме */
[data-theme='dark'] .button {
  background-color: #8b5cf6;
  border-color: #7c3aed;
  color: white;
  transition: all 0.3s ease;
}

[data-theme='dark'] .button:hover {
  background-color: #7c3aed;
  border-color: #6d28d9;
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

/* Подсветка текста в темной теме */
[data-theme='dark'] ::selection {
  background-color: rgba(139, 92, 246, 0.3);
  color: white;
}

/* Стили для блоков кода */
[data-theme='dark'] .prism-code {
  background-color: #1a1a1a;
  border: 1px solid #333;
  transition: border-color 0.3s ease;
}

[data-theme='dark'] .prism-code:hover {
  border-color: #8b5cf6;
}

[data-theme='dark'] .prism-code .token.string {
  color: #a78bfa;
}

[data-theme='dark'] .prism-code .token.keyword {
  color: #c4b5fd;
}

/* Стили для sidebar в темной теме */
[data-theme='dark'] .theme-doc-sidebar-menu {
  background-color: #1a1a1a;
}

[data-theme='dark'] .theme-doc-sidebar-item-category-level-1 > .menu__link {
  color: #8b5cf6;
  transition: color 0.3s ease;
}

[data-theme='dark'] .theme-doc-sidebar-item-category-level-1 > .menu__link:hover {
  color: #a78bfa;
}

/* Стили для заголовков в темной теме */
[data-theme='dark'] h1, [data-theme='dark'] h2, [data-theme='dark'] h3 {
  color: #e5e7eb;
}

[data-theme='dark'] h1::before, [data-theme='dark'] h2::before, [data-theme='dark'] h3::before {
  color: #8b5cf6;
}

/* ===== АНИМАЦИИ И ПЛАВНЫЕ ПЕРЕХОДЫ ===== */

/* Плавные переходы для всех элементов */
* {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Убираем вертикальные линии иерархии в сайдбаре */
.theme-doc-sidebar-item-category-level-1::before,
.theme-doc-sidebar-item-category-level-2::before,
.theme-doc-sidebar-item-category-level-3::before,
.theme-doc-sidebar-item-category-level-4::before,
.theme-doc-sidebar-item-category-level-5::before {
  display: none !important;
}

.theme-doc-sidebar-item-category-level-1::after,
.theme-doc-sidebar-item-category-level-2::after,
.theme-doc-sidebar-item-category-level-3::after,
.theme-doc-sidebar-item-category-level-4::after,
.theme-doc-sidebar-item-category-level-5::after {
  display: none !important;
}

/* Убираем вертикальные линии в меню */
.menu__list-item::before,
.menu__list-item::after {
  display: none !important;
}

.menu__list-item .menu__list-item::before,
.menu__list-item .menu__list-item::after {
  display: none !important;
}

/* Убираем все декоративные элементы иерархии */
.theme-doc-sidebar-item-category-level-1,
.theme-doc-sidebar-item-category-level-2,
.theme-doc-sidebar-item-category-level-3,
.theme-doc-sidebar-item-category-level-4,
.theme-doc-sidebar-item-category-level-5 {
  position: relative;
}

.theme-doc-sidebar-item-category-level-1::before,
.theme-doc-sidebar-item-category-level-2::before,
.theme-doc-sidebar-item-category-level-3::before,
.theme-doc-sidebar-item-category-level-4::before,
.theme-doc-sidebar-item-category-level-5::before {
  display: none !important;
}

/* Дополнительные правила для полного удаления линий */
.theme-doc-sidebar-item-category-level-1 .menu__list-item::before,
.theme-doc-sidebar-item-category-level-2 .menu__list-item::before,
.theme-doc-sidebar-item-category-level-3 .menu__list-item::before,
.theme-doc-sidebar-item-category-level-4 .menu__list-item::before,
.theme-doc-sidebar-item-category-level-5 .menu__list-item::before {
  display: none !important;
}

/* Убираем все псевдоэлементы в сайдбаре */
.theme-doc-sidebar *::before,
.theme-doc-sidebar *::after {
  display: none !important;
}

/* Специально для меню */
.menu__list *::before,
.menu__list *::after {
  display: none !important;
}

/* Убираем все линии в навигации */
.theme-doc-sidebar-item-category-level-1 .menu__list-item,
.theme-doc-sidebar-item-category-level-2 .menu__list-item,
.theme-doc-sidebar-item-category-level-3 .menu__list-item,
.theme-doc-sidebar-item-category-level-4 .menu__list-item,
.theme-doc-sidebar-item-category-level-5 .menu__list-item {
  position: relative;
}

.theme-doc-sidebar-item-category-level-1 .menu__list-item::before,
.theme-doc-sidebar-item-category-level-2 .menu__list-item::before,
.theme-doc-sidebar-item-category-level-3 .menu__list-item::before,
.theme-doc-sidebar-item-category-level-4 .menu__list-item::before,
.theme-doc-sidebar-item-category-level-5 .menu__list-item::before {
  display: none !important;
  content: none !important;
}

/* Убираем все декоративные элементы в сайдбаре */
.theme-doc-sidebar .menu__list-item::before,
.theme-doc-sidebar .menu__list-item::after {
  display: none !important;
  content: none !important;
}

/* Дополнительно убираем все линии */
.theme-doc-sidebar .menu__list-item {
  background: none !important;
}

.theme-doc-sidebar .menu__list-item::before,
.theme-doc-sidebar .menu__list-item::after {
  display: none !important;
  content: none !important;
  background: none !important;
}

/* Анимация появления страницы */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.theme-doc-markdown {
  animation: fadeInUp 0.6s ease-out;
}

/* Анимация для карточек и блоков */
.card, .admonition, .alert {
  transition: box-shadow 0.3s ease;
}

.card:hover, .admonition:hover, .alert:hover {
  box-shadow: 0 8px 25px rgba(139, 92, 246, 0.15);
}

/* Анимация для ссылок */
a {
  transition: color 0.3s ease, text-decoration 0.3s ease;
}

a:hover {
  text-decoration: none;
}

/* Анимация для кнопок */
.button, .btn {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.button:hover, .btn:hover {
  box-shadow: 0 6px 20px rgba(139, 92, 246, 0.25);
}

/* Эффект пульсации для важных элементов */
@keyframes pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

.important-element {
  animation: pulse 2s infinite;
}

/* Анимация для навигации */
.menu__link {
  transition: all 0.3s ease;
  position: relative;
}

.menu__link::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, #8b5cf6, #a78bfa);
  transition: width 0.3s ease;
}

.menu__link:hover::after {
  width: 100%;
}

/* Анимация для кода */
pre {
  transition: all 0.3s ease;
}

pre:hover {
  box-shadow: 0 4px 15px rgba(139, 92, 246, 0.2);
}

/* Плавная прокрутка */
html {
  scroll-behavior: smooth;
}

/* Оптимизация производительности */
* {
  will-change: auto;
}

/* Улучшение рендеринга */
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Анимация загрузки */
@keyframes loading {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.loading {
  animation: loading 1s linear infinite;
}

/* Эффект параллакса для фона */
.parallax-bg {
  background-attachment: fixed;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
}

/* Анимация для списков */
ul, ol {
  animation: fadeInUp 0.8s ease-out;
}

li {
  transition: transform 0.3s ease;
}

li:hover {
  transform: translateX(5px);
}

/* Анимация для таблиц */
table {
  transition: all 0.3s ease;
}

table:hover {
  box-shadow: 0 4px 15px rgba(139, 92, 246, 0.1);
}

/* Эффект свечения для активных элементов */
.active-glow {
  box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
  transition: box-shadow 0.3s ease;
}

/* Анимация для модальных окон */
.modal {
  animation: fadeInUp 0.4s ease-out;
}

/* Улучшение отзывчивости на мобильных */
@media (max-width: 768px) {
  * {
    transition: none !important;
  }
  
  .card:hover, .admonition:hover, .alert:hover {
    transform: none;
  }
}
